webpackJsonp([0],{QeKu:function(t,a){},V83M:function(t,a,e){"use strict";var n={props:{show:{type:Boolean,default:!1},delIndex:{type:Number,default:null}},methods:{submit:function(){this.$emit("confirm")},cancel:function(){this.$emit("update:show",!1)}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"slide"}},[t.show?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-box"},[e("div",{staticClass:"modal-head"},[t._v("提示：")]),t._v(" "),e("div",{staticClass:"modal-txt"},[t._v("你确定删除第"+t._s(t.delIndex+1)+"条数据吗？")]),t._v(" "),e("div",{staticClass:"modal-btn"},[e("button",{staticClass:"btn btn-del",on:{click:t.submit}},[t._v("确定")]),t._v(" "),e("button",{staticClass:"btn btn-add",on:{click:t.cancel}},[t._v("取消")])])])]):t._e()])},staticRenderFns:[]};var s=e("VU/8")(n,i,!1,function(t){e("mga7")},"data-v-7c5262bc",null);a.a=s.exports},mga7:function(t,a){},yTGp:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("V83M"),i=e("gyMJ"),s={name:"edit",data:function(){return{name:"",inData:"",listData:[],showModal:!1,delData:{index:null,id:null}}},computed:{fomartNum:function(){return parseInt(this.inData)?parseInt(this.inData):0},allowAdd:function(){return!(!this.name||!this.inData)}},methods:{addData:function(){var t=this;if(!this.allowAdd)return!1;i.a.addFruit({name:this.name,in:this.inData,stock:this.inData,update_at:+new Date}).then(function(a){console.log(a),t.listData.push({id:a.result._id,name:a.result.name,inData:a.result.in,stock:a.result.stock,balance:a.result.balance,update_time:a.result.update_at}),t.name=t.inData=""})},setDelInfo:function(t,a){this.delData.index=t,this.delData.id=a,this.showModal=!0},delFruit:function(){var t=this;this.showModal=!1,this.$store.dispatch("delFruitData",this.delData.id).then(function(a){t.listData.splice(t.delIndex,1),t.delData.index=null,t.delData.id=null})}},components:{MyModal:n.a}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"edit"},[e("div",{staticClass:"add-box",on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key))return null;t.addData(a)}}},[e("label",{attrs:{for:"name"}},[t._v("名称：")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value.trim())},blur:function(a){t.$forceUpdate()}}}),t._v(" "),e("label",{attrs:{for:"inData"}},[t._v("入库数量：")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.inData,expression:"inData",modifiers:{number:!0}}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:t.inData},on:{input:function(a){a.target.composing||(t.inData=t._n(a.target.value))},blur:function(a){t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"btn",class:{"btn-add":t.allowAdd},on:{click:t.addData}},[t._v("添加")])]),t._v(" "),e("h4",{attrs:{align:"center"}},[t._v("最近添加的水果")]),t._v(" "),e("table",{staticClass:"list-table"},[t._m(0),t._v(" "),t.listData.length?t._e():e("tr",[e("td",{staticClass:"no-data",attrs:{colspan:"7"}},[t._v("暂无数据")])]),t._v(" "),t._l(t.listData,function(a,n){return t.listData.length?e("tr",{key:n},[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(a.name))]),t._v(" "),e("td",[t._v(t._s(a.inData))]),t._v(" "),e("td",[t._v(t._s(a.stock))]),t._v(" "),e("td",[t._v(t._s(a.balance))]),t._v(" "),e("td",[t._v(t._s(t._f("formatDate")(a.update_time)))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-del",on:{click:function(e){t.setDelInfo(n,a.id)}}},[t._v("删除")])])]):t._e()})],2),t._v(" "),e("my-modal",{attrs:{show:t.showModal,delIndex:t.delData.index},on:{"update:show":function(a){t.showModal=a},confirm:t.delFruit}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("th",[t._v("序号")]),t._v(" "),e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("入库数量")]),t._v(" "),e("th",[t._v("库存总量")]),t._v(" "),e("th",[t._v("库存余量")]),t._v(" "),e("th",[t._v("更新时间")]),t._v(" "),e("th",[t._v("操作")])])}]};var o=e("VU/8")(s,l,!1,function(t){e("QeKu")},"data-v-78dc96aa",null);a.default=o.exports}});
//# sourceMappingURL=0.939ed39a0b7f26736c9a.js.map